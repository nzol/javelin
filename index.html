<!DOCTYPE html>
<html lang="en" manifest="http://localhost/javelin/offlinemanifest.mf">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Javelin</title>

    <!-- Bootstrap Core CSS -->
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

 

    <!-- Custom CSS -->
    <link href="dist/css/sb-admin-2.css" rel="stylesheet">

  
 

    <!-- Custom Fonts -->
    <link href="bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <link rel="apple-touch-icon" href="bower_components/coffee-icon.png">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>

    <script type="text/javascript">

    var serverLocation = "http://172.18.1.74/javelin_backend/"

    function parseGet(val) {
        var result = "Not found",
            tmp = [];
        location.search
        //.replace ( "?", "" ) 
        // this is better, there might be a question mark inside
        .substr(1)
            .split("&")
            .forEach(function (item) {
            tmp = item.split("=");
            if (tmp[0] === val) result = decodeURIComponent(tmp[1]);
        });
        return result;
    }    


   
    function getCookie(cname) {
        return localStorage.getItem(cname)
    }
    function setCookie(cname,val) {
        localStorage.setItem(cname,val)
        return true;

    }

    function logout() {

        var SessionId = getCookie("CLICKA_currentSessionId");

        setCookie("CLICKA_currentSessionId","0");

        var logout = ajaxRequest(serverLocation + "system/internaltarget.php?Action=logout&SessionId=" + SessionId);

        document.getElementById("CLICKA_currentSessionId").innerHTML = "0";
        document.getElementById("side-menu").style.display="none";
        document.getElementById("topbartext").innerHTML = "Javelin"

        loadOffline('loginscreen')

    }


    function getSessionVar(VarName) {

        var SessionId = document.getElementById("CLICKA_currentSessionId").innerHTML;
/*
        var VarVal = ajaxRequest(serverLocation + "system/internaltarget.php?Action=getSessionVar&SessionId=" + SessionId + "&VarName=" + VarName);

        return VarVal;*/

        return localStorage.getItem(SessionId + "_" + VarName)

    }

    function setSessionVar(VarName,VarVal) {

        var SessionId = document.getElementById("CLICKA_currentSessionId").innerHTML;
/*

        var Resp = ajaxRequest(serverLocation + "system/internaltarget.php?Action=setSessionVar&SessionId=" + SessionId + "&VarName=" + VarName + "&VarVal=" + VarVal);

        if(Resp=="success") {
            return true;
        }
        else {
            return false;
        }*/

        localStorage.setItem(SessionId + "_"+ VarName,VarVal)


    }

    $(window).load(function(){

        var ping = ajaxRequest(serverLocation + "system/internaltarget.php?Action=ping");
        if(ping=="pong") {
            // WORKING ONLINE
            document.getElementById("CLICKA_currentMode").innerHTML="Online"
        }
        else {
            document.getElementById("CLICKA_currentMode").innerHTML="Offline"
            
        }

        var SessionIdCookie = getCookie("CLICKA_currentSessionId");
        

        if(SessionIdCookie=="0") {
            document.getElementById("CLICKA_currentSessionId").innerHTML = "0";
            document.getElementById("side-menu").style.display="none";
        }
        else {
            document.getElementById("CLICKA_currentSessionId").innerHTML = SessionIdCookie;
            document.getElementById("side-menu").style.display="";
        }

        var get_go = parseGet("go");
        
        var LastScript = getSessionVar("currentScript");
        var LastScriptParams = getSessionVar("currentScriptParams");
        LastScript = typeof LastScript !== 'undefined' ? LastScript : "dashboard";
        LastScriptParams = typeof LastScriptParams !== 'undefined' ? LastScriptParams : "param2:value2;param3:value3";

        //alert(LastScript)

        if(get_go=="newSession") {

            logout();

        } else {

            if(SessionIdCookie=="0") {
                loadOffline('loginscreen');
            }
            else {
                loadOffline(LastScript);
            }

        }

       
    });



    function ajaxRequest(path) {

       // document.getElementById('loadingdiv').style.visibility="visible"

        /*var xmlhttp;
        xmlhttp=new XMLHttpRequest();
     
        xmlhttp.open("GET",path,false);
        xmlhttp.send();
        var RESPONSE = xmlhttp.responseText;
          
        return RESPONSE;
        delete window.xmlhttp;

        document.getElementById('loadingdiv').style.visibility="hidden"*/

        return $.ajax({
        type: "GET",
        url: path,
        async: false
    }).responseText;

    }

    function loadOffline(ScreenAlias) {

        $(".offlinescreen").hide()
        $("#"+ScreenAlias).fadeIn(1000)
       // document.getElementById(ScreenAlias).style.display=""

        setSessionVar("currentScript",ScreenAlias)

    }


    function loadScript(ScriptAlias,Params) {

        document.getElementById('loadingdiv').style.visibility="hidden";

        Params = typeof Params !== 'undefined' ? Params : "param2:value2;param3:value3";

        var ping = ajaxRequest(serverLocation + "system/internaltarget.php?Action=ping");
        if(ping=="pong") {
            // all is fine with the world.
        }
        else {
            $('#notConnectedDisplay').modal('show');
        }

        var intervalId = getSessionVar("currentIntervalId");

        //alert(intervalId)
        clearInterval(intervalId)

        var CLICKA_SessionId = document.getElementById("CLICKA_currentSessionId").innerHTML;

        $.ajax({
          url: serverLocation + "system/internaltarget.php?Action=requestScript&ScriptAlias="+ScriptAlias+"&Params=" + Params + "&SessionId=" + CLICKA_SessionId,
          type: 'GET',
          //data: 'twitterUsername=jquery4u',
          success: function(data) {
            //called when successful
            parseLoadScript(data,ScriptAlias,Params)
          },
          error: function(e) {
            //called when there is an error
            //console.log(e.message);
          }
        });

        /*var scriptoutputdata = ajaxRequest(serverLocation + "system/internaltarget.php?Action=requestScript&ScriptAlias="+ScriptAlias+"&Params=" + Params + "&SessionId=" + CLICKA_SessionId);

        if(scriptoutputdata.indexOf("<ERR>") > -1) {
            $('#errorDisplay').modal('show');
            var ErrorDescription = ajaxRequest(serverLocation + "system/externaltarget.php?Action=requestErrorInfo&ErrCode="+scriptoutputdata+"&Field=Description");
            var ErrorSolution = ajaxRequest(serverLocation + "system/externaltarget.php?Action=requestErrorInfo&ErrCode="+scriptoutputdata+"&Field=Solution");
            document.getElementById("errDescription").innerHTML = ErrorDescription
            document.getElementById("errSolution").innerHTML = ErrorSolution

        }
        else {
            if(document.getElementById('page-wrapper').innerHTML!=scriptoutputdata) {
            document.getElementById('page-wrapper').innerHTML = scriptoutputdata;
            }

             if(CLICKA_SessionId=="0") {
                // dont set
            } else {
                setSessionVar("currentScript",ScriptAlias);
                setSessionVar("currentScriptParams",Params);
            }
        }  */      

        document.getElementById('loadingdiv').style.visibility="hidden";

        
               



    }

    function parseLoadScript(scriptoutputdata,ScriptAlias,Params) {

       // alert(scriptoutputdata)
        var CLICKA_SessionId = document.getElementById("CLICKA_currentSessionId").innerHTML;


        if(scriptoutputdata.indexOf("<ERR>") > -1) {
            $('#errorDisplay').modal('show');
            var ErrorDescription = ajaxRequest(serverLocation + "system/externaltarget.php?Action=requestErrorInfo&ErrCode="+scriptoutputdata+"&Field=Description");
            var ErrorSolution = ajaxRequest(serverLocation + "system/externaltarget.php?Action=requestErrorInfo&ErrCode="+scriptoutputdata+"&Field=Solution");
            document.getElementById("errDescription").innerHTML = ErrorDescription
            document.getElementById("errSolution").innerHTML = ErrorSolution

        }
        else {
            if(document.getElementById('page-wrapper').innerHTML!=scriptoutputdata) {
            //document.getElementById('page-wrapper').innerHTML = scriptoutputdata;
            }

             if(CLICKA_SessionId=="0") {
                // dont set
            } else {
                setSessionVar("currentScript",ScriptAlias);
                setSessionVar("currentScriptParams",Params);
            }
        }  

         $("#page-wrapper").find("script").each(function(i) {
                    eval($(this).text());
                scriptLoaded();

                });  


    }


    function submitLogin() {

        var UsernameEmail = document.getElementById('Username').value;
        var UserPassword = document.getElementById('Password').value;


        var LoginResponse = ajaxRequest(serverLocation + "system/internaltarget.php?Action=signIn&Username="+UsernameEmail+"&Password="+UserPassword);

        if(LoginResponse=="<ERR>System.InternalTarget.signIn.AccessDenied") {
            $('#loginToJavelin').modal('hide');
            $('#errorDisplay').modal('show');

            var ErrorDescription = ajaxRequest(serverLocation + "system/externaltarget.php?Action=requestErrorInfo&ErrCode="+LoginResponse+"&Field=Description");
            var ErrorSolution = ajaxRequest(serverLocation + "system/externaltarget.php?Action=requestErrorInfo&ErrCode="+LoginResponse+"&Field=Solution");
            document.getElementById("errDescription").innerHTML = ErrorDescription
            document.getElementById("errSolution").innerHTML = ErrorSolution
            document.getElementById("errDismiss").onclick=showLoginScreen;
        }

        else {
            $('#loginToJavelin').modal('hide');
            
            document.getElementById("CLICKA_currentSessionId").innerHTML = LoginResponse;
            setCookie("CLICKA_currentSessionId",LoginResponse);
            document.getElementById("side-menu").style.display="";

            loadOffline('screen_dashboard');
        }

       

    }

  
    function showLoginScreen() {
            $('#loginToJavelin').modal('show');
            $('#errorDisplay').modal('hide');
    }

    function doSearch() {

        $('#searchResults').modal('show');

        var retval = ajaxRequest(serverLocation + "system/searchresults.php?q=" + document.getElementById('searchQ').value);
        document.getElementById('searchResultsArea').innerHTML = retval;


    }

    function closeSearch() {
        $('#searchResults').modal('hide');

    }

    
    function displayError(scriptoutputdata) {

        $('#errorDisplay').modal('show');
            var ErrorDescription = ajaxRequest(serverLocation + "system/externaltarget.php?Action=requestErrorInfo&ErrCode="+scriptoutputdata+"&Field=Description");
            var ErrorSolution = ajaxRequest(serverLocation + "system/externaltarget.php?Action=requestErrorInfo&ErrCode="+scriptoutputdata+"&Field=Solution");
            document.getElementById("errDescription").innerHTML = ErrorDescription
            document.getElementById("errSolution").innerHTML = ErrorSolution


    }

    function LoadPrimaryImg(productId) {
       /* var xmlhttp;
        if (window.XMLHttpRequest) { // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else { // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {     
                return "data:image/png;base64," + xmlhttp.responseText;
                alert(xmlhttp.responseText)
            }
        };    
        xmlhttp.open("GET", serverLocation + "system/internaltarget.php?Action=returnPrimaryImage&ProductId=" + productId);
        xmlhttp.send(null);*/
        var data = ajaxRequest(serverLocation + "system/internaltarget.php?Action=returnPrimaryImage&ProductId=" + productId);
        return data;

    }

    function runSync() {

        alert("STARTING SYNC")

        var productList = ajaxRequest(serverLocation + "system/internaltarget.php?Action=productList");
        setCookie("productList",productList);
        
        var categoryList = ajaxRequest(serverLocation + "system/internaltarget.php?Action=categoryList");
        setCookie("categoryList",categoryList);

        var productListSplit = productList.split("|");
        for(i=0;i<productListSplit.length;i++) {
            var productInfoSplit = productListSplit[i].split(",")
            var productId = productInfoSplit[0];
            var ImgBase = LoadPrimaryImg(productId);
            setCookie("img_primary_"+productId,ImgBase)
        }

        var SessionId = getCookie("CLICKA_currentSessionId");

        var jobData = ajaxRequest(serverLocation + "system/internaltarget.php?Action=jobData&SessionId=" + SessionId);
        setCookie("jobData",jobData);

        alert("Sync Complete")


    }

    function showOfflineImage(CookieName,ImageId) {


        var cookiedata = getCookie(CookieName)
        document.getElementById(ImageId).src="data:image/png;base64," + cookiedata;

    }

    function showProductCategory(CategoryId) {

       showProductCategory_Screen(CategoryId)
       showProductCategory_Img(CategoryId)



    }

    function showProductCategory_Screen(CategoryId) {

        loadOffline("screen_productcategory")

        $("#productcategorylist").hide();

       

        var outputcode = "<div class='table-responsive'> <table class='table table-striped table-bordered table-hover'><tbody>";
                                        
                                    

        var productList = getCookie("productList");
        var productListSplit = productList.split("|");

        var i=0;
        for(i=0;i<productListSplit.length;i++) {
            var splitLine = productListSplit[i].split(",")
            var ProductId = splitLine[0];
            var Description = splitLine[1];
            var Short = splitLine[2];
            var SellPrice = splitLine[3];
            var CatId = splitLine[4];
            if(CatId==CategoryId) {
                var outputcode = outputcode + "<tr onclick='showProduct("+ProductId+")'><td width='10%'><img src='' id='"+ProductId+"_img' width='95%'></td><td style='font-size:24px; vertical-align:middle;' valign='middle'>" + Description + "</td></tr>";
            }

        }
      
        var outputcode = outputcode + "</tbody></table></div>"

        document.getElementById('productcategorylist').innerHTML=outputcode;

        var categoryNameArr = getCookie("categoryList").split(",")
        var categoryName = categoryNameArr[CategoryId]

        document.getElementById('productcategorytitle').innerHTML=categoryName;

        $("#productcategorylist").slideDown(1000);



    }

    function showProductCategory_Img(CategoryId) {



       

                                        
                                    

        var productList = getCookie("productList");
        var productListSplit = productList.split("|");

      
        var i=0;
        for(i=0;i<productListSplit.length;i++) {
            var splitLine = productListSplit[i].split(",")
            var ProductId = splitLine[0];
            var Description = splitLine[1];
            var Short = splitLine[2];
            var SellPrice = splitLine[3];
            var CatId = splitLine[4];
            if(CatId==CategoryId) {
                try{
                showOfflineImage("img_primary_"+ProductId,ProductId+"_img");
                    }catch(e){}
            }

        }

       


    }

    function showImageOnProduct(ImageId) {
        
        var offlineImage= getCookie(ImageId);

        document.getElementById("imgList").innerHTML = document.getElementById("imgList").innerHTML + "<img src='data:image/png;base64," + offlineImage + "' height='150' style='border:#999999 thin solid; padding:10px;'>&nbsp;&nbsp;"         

    }


    function showProduct(ProductId) {

        var splitProducts = getCookie("productList").split("|")
        for(i=0;i<splitProducts.length;i++) {
            var productSplit = splitProducts[i].split(",")
            if(productSplit[0]==ProductId) {
                var ProductId = productSplit[0];
                var Description = productSplit[1];
                var Short = productSplit[2];
                var SellPrice = productSplit[3];
                var FullInfo = productSplit[5];
            }
        }

        loadOffline("screen_productdisplay");

        document.getElementById("productnametitle").innerHTML=Description
        document.getElementById("productprice").innerHTML="$"+SellPrice
        document.getElementById("productshort").innerHTML=Short
        document.getElementById("productfullinfo").innerHTML=FullInfo

        document.getElementById("imgList").innerHTML=""

        showImageOnProduct("img_primary_"+ProductId)

    }



    function viewSyncedData() {



        loadOffline("systemdiagnostics");

        document.getElementById('productlistoutput').innerHTML=getCookie('productList')
        document.getElementById('categorylistoutput').innerHTML=getCookie('categoryList')
        document.getElementById('jobdataoutput').innerHTML=getCookie('jobData')

        var productList = getCookie("productList");
        var productListSplit = productList.split("|");

        var i=0;
        for(i=0;i<productListSplit.length;i++) {
            var splitLine = productListSplit[i].split(",")
            var ProductId = splitLine[0];
            var Description = splitLine[1];
            var Short = splitLine[2];
            var SellPrice = splitLine[3];
            var CatId = splitLine[4];

            var cookiedata = getCookie("img_primary_"+ProductId)

            
            document.getElementById('productprimaryimages').innerHTML =  document.getElementById('productprimaryimages').innerHTML + "<img src='data:image/png;base64,"+cookiedata+"' width='100'>"

        }

    }

    function showJobSheets() {

        loadOffline("screen_jobsheetstart");

        var jobData = getCookie("jobData");
        var jobDataSplit = jobData.split("|")

        document.getElementById("jobList").innerHTML = ""

        for(i=0;i<jobDataSplit.length;i++) {
            var jobSplit = jobDataSplit[i].split(",")

            var FullName = jobSplit[5]
            var Suburb = jobSplit[8]
            
            document.getElementById("jobList").innerHTML = document.getElementById("jobList").innerHTML + "<table class='table table-striped table-bordered table-hover' style='background-color:#EEEEEE;' width='100%'><tr><td width='50%' style='padding:10px;'>"+FullName+"</td><td width='35%' style='padding:10px;'>" + Suburb + "</td><td width='15%' style='padding:10px;'>Start</td></tr></table>"


        }

        //document.getElementById("jobList").innerHTML = document.getElementById("jobList").innerHTML + "</table>"


    }




    </script>

</head>

<body>

    <div class="modal fade" id="loginToJavelin" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <!--button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button-->
                    <h4 class="modal-title" id="myModalLabel">Sign in to Javelin</h4>
                </div>
                <div class="modal-body" align="center">
                    <div style="width:300px;" align="left">
                    <form role="form">
                            <fieldset>
                                <div class="form-group">
                                    Username or Email Address <input class="form-control" placeholder="Username" id="Username" name="username" type="email" autofocus>
                                </div>
                                <div class="form-group">
                                    Password <input class="form-control" placeholder="Password" name="password" type="password" id="Password" value="">
                                </div>
                      
                            </fieldset>
                        </form>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" onclick="$('#loginToJavelin').modal('hide');">Cancel</button>
                    <!--button type="button" class="btn btn-default" data-dismiss="modal">Quit</button-->
                    <button type="button" class="btn btn-primary" onclick="submitLogin()">Sign In</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="searchResults" tabindex="-1" role="dialog" aria-labelledby="searchreslabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <!--button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button-->
                    <h4 class="modal-title" id="searchreslabel">Search Results</h4>
                </div>
                <div class="modal-body" align="left">
                    
                        <div id="searchResultsArea"></div>
                  
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" onclick="closeSearch()">Close Search</button>
                    
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="errorDisplay" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <!--button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button-->
                    <h4 class="modal-title" id="myModalLabel2">An error has occured...</h4>
                </div>
                <div class="modal-body">
                    <p><strong><span id="errDescription"></span></strong></p>
                    <p><i>Solution:</i><br><span id="errSolution"></span></p>

                </div>
                <div class="modal-footer">
                    
                    <!--button type="button" class="btn btn-default" data-dismiss="modal">Quit</button-->
                    <button type="button" class="btn btn-primary" onclick="$('#errorDisplay').modal('hide');" id="errDismiss">Dismiss</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="notConnectedDisplay" tabindex="-1" role="dialog" aria-labelledby="myModalLabel4" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <!--button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button-->
                    <h4 class="modal-title" id="myModalLabel4">Can't Connect to Javelin</h4>
                </div>
                <div class="modal-body">
                    <h2>Unfortunately, you need an internet connection to use Javelin. </h2>
                    Please ensure your mobile data is switched on or you are connected to wifi and then Try Again. If you are sure that you are connected to the internet (try googling something for example) then please go to www.Javelin.co.nz/cantconnect and report the problem.

                </div>
                <div class="modal-footer">
                    
                    <!--button type="button" class="btn btn-default" data-dismiss="modal">Quit</button-->
                    <button type="button" class="btn btn-primary" onclick="location.reload()">Try Again</button>
                </div>
            </div>
        </div>
    </div>
    <div id="loadingdiv">Loading...</div>
    <div id="wrapper">

        <!-- igation -->
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0; position:fixed; width:100%;">
            <div class="navbar-header" align="center">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <!--a class="navbar-brand" href="#" onclick="loadScript('publichome')">Javelin</a--><span class="navbar-brand" id="topbartext">Geeks on Wheels</span>
            </div>
            <!-- /.navbar-header -->

            <!--ul class="nav navbar-top-links navbar-right">
                <li class="dropdown">
                   
                    <ul class="dropdown-menu dropdown-messages">
                        <li>
                            <a href="#">
                                <div>
                                    <strong>John Smith</strong>
                                    <span class="pull-right text-muted">
                                        <em>Yesterday</em>
                                    </span>
                                </div>
                                <div>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque eleifend...</div>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="#">
                                <div>
                                    <strong>John Smith</strong>
                                    <span class="pull-right text-muted">
                                        <em>Yesterday</em>
                                    </span>
                                </div>
                                <div>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque eleifend...</div>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="#">
                                <div>
                                    <strong>John Smith</strong>
                                    <span class="pull-right text-muted">
                                        <em>Yesterday</em>
                                    </span>
                                </div>
                                <div>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque eleifend...</div>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a class="text-center" href="#">
                                <strong>Read All Messages</strong>
                                <i class="fa fa-angle-right"></i>
                            </a>
                        </li>
                    </ul>
                    <!-- /.dropdown-messages
                </li>
                <!-- /.dropdown -->
                
                <!-- /.dropdown -->
                
                <!-- /.dropdown 
            </ul>
            <!-- /.navbar-top-links -->

            <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse collapse" aria-expanded="false">
                    <ul class="nav" id="side-menu" style="display:none;">
                        <li class="sidebar-search">
                            <div class="input-group custom-search-form">
                                <input type="text" class="form-control" placeholder="Search..." id="searchQ">
                                <span class="input-group-btn">
                                <button class="btn btn-default" type="button" id="searchbutton" onclick="doSearch()">
                                    <i class="fa fa-search"></i>
                                </button>
                            </span>
                            </div>
                            <!-- /input-group -->
                        </li>
                        <li onclick="loadOffline('screen_dashboard')">
                            <a href="#"><i class="fa fa-dashboard fa-fw"></i> Dashboard</a>
                           
                        </li>
                        <li onclick="runSync()">
                            <a href="#"><i class="fa fa-sync fa-fw"></i> Sync Online</a>
                           
                        </li>
                        <li onclick="viewSyncedData()">
                            <a href="#"><i class="fa fa-sync fa-fw"></i> View Synced Data</a>
                           
                        </li>
                        <li onclick="showJobSheets()">
                            <a href="#"><i class="fa fa-list-alt fa-fw"></i> Job Sheets</a>
                           
                        </li>
                        <li class="active">
                            <a href="#"><i class="fa fa-shopping-cart fa-fw"></i> Product Categories<span class="fa arrow"></span></a>
                            <ul class="nav nav-second-level collapse in" aria-expanded="true">
                                <li>
                                    <a href="#" onclick="showProductCategory(1)">Routers</a>
                                </li>
                                <li>
                                    <a href="#" onclick="showProductCategory(2)">External HDD</a>
                                </li>
                            </ul>
                            <!-- /.nav-second-level -->
                        </li>
                       
                        <li onclick="logout()">
                            <a href="#"><i class="fa fa-user fa-fw"></i> Logout</a>
                            <!--ul class="nav nav-second-level">
                                <li>
                                    <a href="blank.html">Blank Page</a>
                                </li>
                                <li>
                                    <a href="login.html">Login Page</a>
                                </li>
                            </ul>
                            <!-- /.nav-second-level -->
                        </li>
                    </ul>
                </div>
                <!-- /.sidebar-collapse -->
            </div>
            <!-- /.navbar-static-side -->
        </nav>

        <div id="page-wrapper" style="padding-top:40px;">

           <div class="offlinescreen" style="display:none;" id="screen_dashboard">

            <br><br>

                Welcome to Javlin for Geeks on Wheels! You are currently working in sync mode, where data is downloaded and stored on the device and information is shown from the devices storage. Please click Sync to update the app and stored data.

                <br><br>

                Click a product category in the left to start viewing!

           </div>

           <div class="offlinescreen" style="display:none;" id="screen_productcategory">

                <div class="row">
                    <div class="col-lg-12">
                        <h1 class="page-header" id="productcategorytitle">Product Category</h1>
                    </div>
                    <!-- /.col-lg-12 -->
                </div>
                <div class="row">
                    <div class="col-lg-12" id="productcategorylist">

                    </div>
                    <!-- /.col-lg-12 -->
                </div>

           </div>

           <div class="offlinescreen" style="display:none;" id="screen_productdisplay">

                <div class="row">
                    <div class="col-lg-12">
                        <h1 class="page-header" id="productnametitle">Please Choose a Product from the Category</h1>
                        <span id="productprice" style="font-size:24px;font-weight:bold;"></span>
                    </div>
                    <!-- /.col-lg-12 -->
                </div><br>
                <div class="row">
                    <div class="col-lg-12">
                        <div style="overflow:auto; border:#999999 medium solid; padding:20px;" id="imgList"> </div>
                    </div>
                    <!-- /.col-lg-12 -->
                </div><br><br>
                <div class="row">
                    <div class="col-lg-12" id="productshort" style="font-size:18px;">

                    </div>
                    <!-- /.col-lg-12 -->
                </div><br><br>
                <div class="row">
                    <div class="col-lg-12" id="productfullinfo">

                    </div>
                    <!-- /.col-lg-12 -->
                </div>

           </div>

           <div class="offlinescreen" style="display:none;" id="loginscreen">

                <div class="row">
                    <div class="col-lg-12">
                        <h1 class="page-header" id="productnametitle">Please Sign-In to Javelin</h1>
                    </div>
                    <!-- /.col-lg-12 -->
                </div><br>
                <div class="row">
                    <div class="col-lg-12">
                        <button type="button" onclick="showLoginScreen()" class="btn btn-primary btn-lg btn-block">Sign In</button>
                    </div>
                    <!-- /.col-lg-12 -->
                </div>

           </div>

           <div class="offlinescreen" style="display:none;" id="screen_jobsheetstart">

                <div class="row">
                    <div class="col-lg-12">
                        <h1 class="page-header" id="productnametitle">Job Sheets</h1>
                    </div>
                    <!-- /.col-lg-12 -->
                </div><br>
                <div class="row">
                    <div class="col-lg-12">
                       <div id="jobList"></div>
                    </div>
                    <!-- /.col-lg-12 -->
                </div>

           </div>

            <div class="offlinescreen" style="display:none;" id="systemdiagnostics">

                <div class="row">
                    <div class="col-lg-12">
                        <h1 class="page-header">System Diagnostics</h1>
                    </div>
                    <!-- /.col-lg-12 -->
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <h4>Product List:</h4>
                        <pre id="productlistoutput">

                        </pre>
                    </div>
                    <!-- /.col-lg-12 -->
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <h4>Category List:</h4>
                        <pre id="categorylistoutput">

                        </pre>
                    </div>
                    <!-- /.col-lg-12 -->
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <h4>Product Primary Images</h4>
                        <pre id="productprimaryimages">

                        </pre>
                    </div>
                    <!-- /.col-lg-12 -->
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <h4>Job Data:</h4>
                        <pre id="jobdataoutput">

                        </pre>
                    </div>
                    <!-- /.col-lg-12 -->
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <h4>Action: Clear Data and Re-Sync</h4>
                        <pre id="categorylistoutput"><a href="#" onclick="runSync();viewSyncedData()";>Re-Sync Data</a></pre>
                    </div>
                    <!-- /.col-lg-12 -->
                </div>

           </div>


        </div>
        <!-- /#page-wrapper -->

    </div>
    <!-- /#wrapper -->

    <!-- jQuery -->
    <script src="bower_components/jquery/dist/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

    <!-- Metis Menu Plugin JavaScript -->
    <script src="bower_components/metisMenu/dist/metisMenu.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="dist/js/sb-admin-2.js"></script>
<div id="CLICKA_currentSessionId" style="display:none;">Def</div>
<div id="CLICKA_currentMode" style="display:none;">Offline</div>
</body>

</html>
